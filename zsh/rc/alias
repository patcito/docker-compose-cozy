#!/bin/zsh
alias rm="rm -v"
if test $UNAME = "Darwin" ;
then
	alias ls="ls -GFT" ;
	alias cp="cp -H" ;
elif test $UNAME = "Linux" ;
then
	alias ls="ls --color=auto" ;
	alias cp="cp --dereference" ;
else
	alias ls="ls --color=auto" ;
	alias cp="cp --dereference" ;
fi
alias ll="ls -lh"
alias la="ll -a"
alias less=$PAGER
alias zless=$PAGER
alias vless=/opt/local/share/vim/vim73/macros/less.sh
alias grep="grep --color=auto"
alias bc="bc -ql"
alias vimdiff="vim -d"
alias moc="mocp"
alias tree="find . | sed 's/[^/]*\\//|   /g;s/| *\\([^| ]\\)/+--- \\1/'"

# Alias for Git
alias ga="git add"
alias gc="git commit"
alias gca="git commit -a"
alias gdf="git df"
alias gf="git fetch"
alias gi="git ignore"
alias gph="git push"
alias gpl="git pull"
alias grm="git rm"
alias gss="git status"
alias gls="git ls"

# To extract files
function extract() {
	if test -f $1
	then
		case $1 in
			*.tar.bz2)
				tar xvjf $1 ;;
			*.tbz2)
				tar xvjf $1 ;;
			*.tar.gz)
				tar xvzf $1 ;;
			*.tgz)
				tar xvzf $1 ;;
			*.bz2)
				bunzip2 $1 ;;
			*.rar)
				rar x $1 ;;
			*.gz)
				gunzip $1 ;;
			*.zip)
				unzip $1 ;;
			*.Z)
				uncompress $1 ;;
			*)
				echo "'$1' cannot be extracted with 'extract'" ;;
		esac
	else
		echo "'$1' is not a valid file for extraction"
	fi
}
alias extract="extract"

function bak() {
	mv "$1" "$1_`date +%Y-%m-%d_%H-%M-%S`"
}
alias bak="bak"
alias tunnel-bison="ssh -v -N simard@bison.lirmm.fr -L 3000:majorque.lirmm.fr:3000 -L 8081:majorque.lirmm.fr:8081 -L 8082:majorque.lirmm.fr:8082"
alias update-screen="xrandr --output VGA1 --auto --right-of LVDS1"

if test $UNAME = "Darwin" ;
then
	trash_dir=~/.Trash
else
	trash_dir=~/.trash
fi
function rm2trash() {
	rm2trash_options=""
	current_rel_dir=`pwd -L`
	current_abs_dir=`pwd -P`
	for e in $*
	do
		if test $e =~ "^-.*"
		then
			case $e in
				-v)
					rm2trash_options=`echo $rm2trash_options -v`
					;;
				*)
					echo "rm2trash: This is not the true 'rm' command"
					echo "rm2trash: It is an alias which move files to ~/.trash"
					echo "rm2trash: If you want the true one, use '/bin/rm'"
					return 1
					;;
			esac
		else
			rel_dir_e=$(echo $current_abs_dir/`dirname $e`)
			dir_e=`cd $rel_dir_e; pwd -P`
			name_e=$(basename $e)
			element=$(echo `echo $dir_e/$name_e`_`date +%Y-%m-%d_%H-%M-%S`)
			mkdir -p $trash_dir$dir_e
			mv $rm2trash_options $e $trash_dir$element
			unset rel_dir_e
			unset dir_e
			unset name_e
			unset element
		fi
	done
	cd $current_rel_dir
	unset rm2trash_options
	unset current_rel_dir
	unset current_abs_dir
}
alias rm='rm2trash -v'

# Create the CLASSPATH
java_classpath=/usr/share/java
CLASSPATH=""
for file in `ls $java_classpath`
do
	if test ${file##*.} = "jar"
	then
		CLASSPATH=$CLASSPATH:$java_classpath/$file
	fi
done
export CLASSPATH
